language: node_js
before_install:
- chmod +x bin/setup-dependencies.sh && ./bin/setup-dependencies.sh
node_js:
- '6'
script:
- node bin/website
deploy:
- provider: s3
  access_key_id:
    secure: ZZNbjkyCE0DXnEyXJCu6nOSj68FoHSCm4T6cfilikB+91t2KcCl6DFr+rFH/iDt/KUEEmi8x3nPKbjXCOGtWwlR+xy2/IbPd7UCDZZ+Tzf+rNLpsJLSgDfOh5wgO7cFCFa/E9MsFx6h2ZPo9j3MWH9itLblbqbbEtYnAcSPBSdyas2vUdXI8ch1H8ENw/JUzpwKRgu9hEM9YRE0bfNfzGXAGUj3ekd8AK4yn86rlSWb2eJDjNZ/tgq4H1coCMSbF49iNMG1yb4jeMtOoH/AYY7DARJOaG/yN0aYkDMOSfanGzJJUgpKRE2hhWfaum5uXavM2at5XQIrjZ9OmFIejMmTCByvvRsWIFaHi/ZJloe1T/D5faJLBSkpP0J/x6LKrEDs9VLrDeMWZAQI0h0lhf/lw2oBa/aOqjk7piNwKNfEnZW6slLgIu0w0HQ3EoLzCfqhJWmzztqbPTCDKJCXoE3hTmkXAE5vuq+UrlEqnpOebbL+/jYrnz/tolU8NcdiS/lYHF398VWhFJenqQ+udzmLGm/qBg7kQHaU2E5wi3CbXIQ8sVZIJUU4GsiQneRlEqN4OITp00isLgvH6KO5wYObrvVv0H7VRIEq+ydzmhfDSoxGnwkXnxb43PpkeRusLvHngBAP0d86PTEYwQoQ0rS/VGF3Mtxr1Y/mKkBfK/ms=
  secret_access_key:
    secure: cBHKPcgQtFmwakafUfk4yBEiOqnsCj64PIlMNr16HPqyyIoiKklvFXwYGQJVOhRDpsmzhztoeIQZk9HD+FNCVFHID+9nDMQypOsOuzwCFS1yFJsv8Nx0pkVaEpM4ObFEca4Q17LhfEmT/Cw2tpFl/H/aTvlBM8mosZXfgu+/yoM09zrZ+LWQo0GrxKxdI2mAj1vRPvLqHhpoPvHWusgPpBXXo0ENzAOq4NR974Jo/oRC0gtZlQ4Oqzl+/gjOYS7JRTptLSNOrbx8uokuikPNxyRkMp955PIwC7++VMy8wYJIwzsx10ytpFLnIWB9rgvq2Aha1udOoib7WRROMMtIkBoFRdah4GTHOMh1sVcZdHSOw9fxml4loZgRxiP7rWLxP/bdc2039NvUQMgOL4KrRZQYxCaAWCghlipo3SDeVDZoc1p5dGvzREMW6amqJMb5fWPWcbr9G/AdzrbFk3dZELs03Ia5BnsXC2H7S7KLc5Qg0q15pCpt+8E5S6O8pigrZ75XC2l6IhzvixAsH36t+fBGtuYC+j4vrPVGTqU7j8+9z58Fn7ys2Q3pr8ZMF80qC16Ev8LEA7kNf6q9HcXkPS/7bl4W6lfMe7F+IbY9eHAUZr9pERXAxZVxDSEc8+efE7XPYM7ziZSGwiFdnIhchbvLbX83n8+N8A1pd6XQatk=
  bucket: deepstream.io-dev
  skip_cleanup: true
  acl: public_read
  local_dir: dist
  region: eu-central-1
  on:
    branch: master
- provider: s3
  access_key_id:
    secure: ZZNbjkyCE0DXnEyXJCu6nOSj68FoHSCm4T6cfilikB+91t2KcCl6DFr+rFH/iDt/KUEEmi8x3nPKbjXCOGtWwlR+xy2/IbPd7UCDZZ+Tzf+rNLpsJLSgDfOh5wgO7cFCFa/E9MsFx6h2ZPo9j3MWH9itLblbqbbEtYnAcSPBSdyas2vUdXI8ch1H8ENw/JUzpwKRgu9hEM9YRE0bfNfzGXAGUj3ekd8AK4yn86rlSWb2eJDjNZ/tgq4H1coCMSbF49iNMG1yb4jeMtOoH/AYY7DARJOaG/yN0aYkDMOSfanGzJJUgpKRE2hhWfaum5uXavM2at5XQIrjZ9OmFIejMmTCByvvRsWIFaHi/ZJloe1T/D5faJLBSkpP0J/x6LKrEDs9VLrDeMWZAQI0h0lhf/lw2oBa/aOqjk7piNwKNfEnZW6slLgIu0w0HQ3EoLzCfqhJWmzztqbPTCDKJCXoE3hTmkXAE5vuq+UrlEqnpOebbL+/jYrnz/tolU8NcdiS/lYHF398VWhFJenqQ+udzmLGm/qBg7kQHaU2E5wi3CbXIQ8sVZIJUU4GsiQneRlEqN4OITp00isLgvH6KO5wYObrvVv0H7VRIEq+ydzmhfDSoxGnwkXnxb43PpkeRusLvHngBAP0d86PTEYwQoQ0rS/VGF3Mtxr1Y/mKkBfK/ms=
  secret_access_key:
    secure: cBHKPcgQtFmwakafUfk4yBEiOqnsCj64PIlMNr16HPqyyIoiKklvFXwYGQJVOhRDpsmzhztoeIQZk9HD+FNCVFHID+9nDMQypOsOuzwCFS1yFJsv8Nx0pkVaEpM4ObFEca4Q17LhfEmT/Cw2tpFl/H/aTvlBM8mosZXfgu+/yoM09zrZ+LWQo0GrxKxdI2mAj1vRPvLqHhpoPvHWusgPpBXXo0ENzAOq4NR974Jo/oRC0gtZlQ4Oqzl+/gjOYS7JRTptLSNOrbx8uokuikPNxyRkMp955PIwC7++VMy8wYJIwzsx10ytpFLnIWB9rgvq2Aha1udOoib7WRROMMtIkBoFRdah4GTHOMh1sVcZdHSOw9fxml4loZgRxiP7rWLxP/bdc2039NvUQMgOL4KrRZQYxCaAWCghlipo3SDeVDZoc1p5dGvzREMW6amqJMb5fWPWcbr9G/AdzrbFk3dZELs03Ia5BnsXC2H7S7KLc5Qg0q15pCpt+8E5S6O8pigrZ75XC2l6IhzvixAsH36t+fBGtuYC+j4vrPVGTqU7j8+9z58Fn7ys2Q3pr8ZMF80qC16Ev8LEA7kNf6q9HcXkPS/7bl4W6lfMe7F+IbY9eHAUZr9pERXAxZVxDSEc8+efE7XPYM7ziZSGwiFdnIhchbvLbX83n8+N8A1pd6XQatk=
  bucket: deepstream.io
  skip_cleanup: true
  acl: public_read
  local_dir: dist
  region: eu-central-1
  on:
    tags: true
after_success:
  - if [ -z "${TRAVIS_TAG}" ]; then echo "Ignoring elasticsearch since not tag"; else ./bin/elastic -b elasticsearch-bulk; fi
addons:
  apt:
    packages:
    - oracle-java8-installer
    - git
env:
  global:
  - secure: b5vPxhrQ8iDLxEwSYAO2atx3k4LiCaKELlAeBCwvkrG6/lSHL4dWXFmtO6hmTpQx38OVi3hMOPTSAbH8vAODS/mx0iKWtDjD/c5f2TA/i7nOAPCLuGPCfbHGRO8QeSAX2XtmnTUC/PX+hnrOGZ+qQTXU7kSjKjVtacA8G3KVrmKoxtbClePNYospxSZgxBcsqN+J2uclPZJoe217H7AsG3KB3vH+uwj31AEMn9G4CfgabDp6bc2dBwnQlenGMCsWIbhb9iVmaeCuwvgbMjF0CtPcMPxdcUkJWhdniqW6hrFuWdjHlD5Ynv6I14TTUJKLfFCX/UDZ+8RHm4mtmPdaCnVxbKaHHDkYjzED2jKngwZlZm7icxvq3Wri31VD2mAU9sRQtsOE7IrbQS57m+fy4jcBzLgyOudyy5ChZ6oou/ryUCFCWsvzvTHi9pyCw61UB616FxK1jwv+770SvB9j+Helhkx4RCu0EnjGydwSsoyUyYEKixg2USyzXG36FR5vf3iCnIg3cb0gHQBZkOq3F1VnUkvHYYcSVzsXK77MT3xUTYtXKMIlygSUIFSboxnPF6Ru6AuyKTUekprCs6ANOU7SSVBrGBgpIf++GZSa+KqImInJ5FP4p8noOSx2bMmRqWQGimsKFrjRCK1aUlfDzVhpQIAXzheKe8whMRovI3w=
  - secure: p0+f4W1Zbn6aywcj6vRFqaDvE8EIuY/pxgMG2K9iXza8bPtgTLDwqukXn5FKIrI1qgh/daIaGwo1zUcXPNPc2cuG6ITj1VcqLp7QPNIe8v27N8f2h/UDARzsqFgTnqB7ESA5El32SbBN7pau8Y9m1Yly4MqIBS3FHu/uMNmRPgFRzPRwjYL4is9BZfgOHZ00NO0r7KmAzlW9jr3GCsN/bhy6zwwrZN0wPddsEQWK5Ezb8sh0DJQF7OVnFGEVEEdzJRCXy/q3MOK2hOcJGL5QFWy1/6nTZ0quPax+BqpSPo0dVZmf/Wz7gUKgW7hrB/9n8lnyC7G8tFaaJixRQgNHuui5/TnNNOcawkYNzO5uIHjEhbB6MmsQFRmYkohkLGnBfoBm6iOyEJCb2XlQTfn/1d6bxHAFpkjgWQZijqc20NTstFQEEU35Wo8nqcdRs0W+Y2Ez20f6efxnrPgvV9YjRliHLOXLHEBty8PzETNx2iSA9686i126RR0nNNwWGZnslMwyqveBYHOQ5nNEt+OXer9IZJtpkUml8q0ME0rNlh1Fbnu0IJsZxg7vEg/n9JpAypiTSAmAcKcTO7/TVtbNbn+hZWy12Qsz1579Jy2q4FHtrwLNDfWvAzS+pWVJAK4aOk/iwBW4Fpz1mU9mhYqxL/r5XNW+BwhCLF427k7mAgY=
  - secure: PSPZFqL2LXKxOHpFvuTP7SOnw9o2DkOCvjucgxjq0wUggA0GUehPrNjGhI49Zp7lpp8Al5bulyC0kN8UNatA9v/1K5UrVBrUEmyrR5evzdm1HUm8nyCSY/bOb5gUfFcxNsQX9McjB8rgiYpGReTAml99QShU/jUNHxrByjXNW81bp2bLcW4OjU/TX1MvtC7XcS0WhIqTYkQtGXXhK3Uo7hm9oNFAfvGKTx0TmrIqN/1khC/2DnzGBKnBZsr76UuP3KfnJ3d6k3KkO7e/3JFJUXKYjDyQ2QiKRxseOqpugQHXJJoS7N//0dv4CWlpzeDsT2I1fpv+ujs8qwXYTLmnVsxi7nImQmfydh8ZlfoppVPXZ9YX6kvbxY3fwoHToW8/dh4QAURJ4DYNeCKsXNunSH/IpEHZyiAfB/2u5xF4AAZO+I/TegIHoT+2+/597T/B7L7nANF3fe/Sb4+giKNg7iBLvnFFvkU25YNhP1IP/0Qn0KdhvudKtR5Rk9Z57XOm9cDcZbItDzRo+JGox0WOZst2vrrYeXz3zWfmWT6jlcTpWpFn4M0OkTfaImHZiWLVEq6PsTeHdF5tvNlc9PpFZqEaiCWs0xz32j8xJiv1NTcWH6hQXsSfNOBoUS+GJdrEWO7k8IL3siVlKAIbIYslcWV6ZLFayFmwrC5CfNY0Hac=
